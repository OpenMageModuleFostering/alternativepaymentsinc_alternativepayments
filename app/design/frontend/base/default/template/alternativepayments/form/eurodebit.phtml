<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2012 Alternative Payments Inc (http://www.alternativepayments.com)
 * @license     http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
 
     $countryCode = Mage::getModel('checkout/cart')->getQuote()->getBillingAddress()->getCountry();

?>

<script type="text/javascript">

//<![CDATA[
       var countryCode = '<?php echo $countryCode ?>';
     if (countryCode == 'DE') {

        Validation.add('validate-eurodebit-routingnumber-de', "<?php echo __('German Routing Number should be 8 digits') ?>", function (v) {
            
             return Validation.get('IsEmpty').test(v) || /^(\d){8}$/.test(v)
        });

}

//]]>
</script>

<ul class="form-list">  
    <li>
    <label for="eurodebit-accountnumber" class="required"><em>*</em><?php echo $this->__('Account Number') ?></label>
        <span class="input-box">
            <input type="text" class="required-entry validate-digits" maxlength="16" size="16" name="payment[eurodebit_accountnumber]" />
        </span>
    </li>
    <li>
       <div class="data-name" id="eurodebit-routingnumber-field" style="display: none;" >
             <label class="required" for="eurodebit-routingnumber"><em>*</em><?php echo $this->__('Routing Number') ?></label>
             <span class="input-box">
                <input type="text" class="required-entry validate-digits validate-eurodebit-routingnumber-de" maxlength="16" size="16" name="payment[eurodebit_routingnumber]" />
            </span>
       </div>
    </li>
</ul>


